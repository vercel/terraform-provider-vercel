---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vercel_custom_environment Resource - terraform-provider-vercel"
subcategory: ""
description: |-
  Environments help manage the deployment lifecycle on the Vercel platform.
  By default, all teams use three environments when developing their project: Production, Preview, and Development. However, teams can also create custom environments to suit their needs. To learn more about the limits for each plan, see limits.
  Custom environments allow you to configure customized, pre-production environments for your project, such as staging or QA, with branch rules that will automatically deploy your branch when the branch name matches the rule. With custom environments you can also attach a domain to your environment, set environment variables, or import environment variables from another environment.
  Custom environments are designed as pre-production environments intended for long-running use. This contrasts with regular preview environments, which are designed for creating ephemeral, short-lived deployments.
---

# vercel_custom_environment (Resource)

Environments help manage the deployment lifecycle on the Vercel platform.

By default, all teams use three environments when developing their project: Production, Preview, and Development. However, teams can also create custom environments to suit their needs. To learn more about the limits for each plan, see limits.

Custom environments allow you to configure customized, pre-production environments for your project, such as staging or QA, with branch rules that will automatically deploy your branch when the branch name matches the rule. With custom environments you can also attach a domain to your environment, set environment variables, or import environment variables from another environment.

Custom environments are designed as pre-production environments intended for long-running use. This contrasts with regular preview environments, which are designed for creating ephemeral, short-lived deployments.

## Example Usage

```terraform
resource "vercel_project" "example" {
  name = "example-project-with-custom-env"
}

resource "vercel_custom_environment" "example" {
  project_id  = vercel_project.example.id
  name        = "example-custom-env"
  description = "A description of the custom environment"
  branch_tracking = {
    pattern = "staging-"
    type    = "startsWith"
  }
}

# Disable branch tracking later by removing the block
resource "vercel_custom_environment" "example_no_tracking" {
  project_id  = vercel_project.example.id
  name        = "example-custom-env"
  description = "A description of the custom environment"
  # branch_tracking block omitted => disables branch tracking on update
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the environment.
- `project_id` (String) The ID of the existing Vercel Project.

### Optional

- `branch_tracking` (Attributes) The branch tracking configuration for the environment. When enabled, each qualifying merge will generate a deployment. (see [below for nested schema](#nestedatt--branch_tracking))
- `description` (String) A description of what the environment is.
- `team_id` (String) The team ID to add the project to. Required when configuring a team resource if a default team has not been set in the provider.

### Read-Only

- `id` (String) The ID of the environment.

<a id="nestedatt--branch_tracking"></a>
### Nested Schema for `branch_tracking`

Required:

- `pattern` (String) The pattern of the branch name to track.
- `type` (String) How a branch name should be matched against the pattern. Must be one of 'startsWith', 'endsWith' or 'equals'.

To disable branch tracking for a specific custom environment, remove the `branch_tracking` block from configuration. The provider will send a `null` branch matcher to the API, turning branch tracking off for that environment.

## Import

Import is supported using the following syntax:

```shell
# If importing into a personal account, or with a team configured on
# the provider, simply use the project_id and custom environment name.
# - project_id can be found in the project `settings` tab in the Vercel UI.
terraform import vercel_custom_environment.example prj_xxxxxxxxxxxxxxxxxxxxxxxxxxxx/example-custom-env

# Alternatively, you can import via the team_id, project_id and environment variable id.
# - team_id can be found in the team `settings` tab in the Vercel UI.
# - project_id can be found in the project `settings` tab in the Vercel UI.
#
# Note also, that the value field for sensitive environment variables will be imported as `null`.
terraform import vercel_custom_environment.example team_xxxxxxxxxxxxxxxxxxxxxxxx/prj_xxxxxxxxxxxxxxxxxxxxxxxxxxxx/example-custom-env
```
